(()=>{"use strict";var e,t,s={800:(e,t,s)=>{var i,n,a;s.d(t,{T:()=>i,iW:()=>n}),function(e){e[e.MAIN=0]="MAIN",e[e.MIDDLE=1]="MIDDLE",e[e.SECONDARY=2]="SECONDARY"}(i||(i={})),function(e){e[e.MOVE=0]="MOVE",e[e.DOWN=1]="DOWN",e[e.UP=2]="UP"}(n||(n={})),function(e){e[e.DOWN=0]="DOWN",e[e.UP=1]="UP"}(a||(a={}))},89:(e,t,s)=>{s.d(t,{MI:()=>u,Yg:()=>i,Qi:()=>d,RD:()=>m,Ry:()=>p,s4:()=>I});var i,n=s(986),a=s(599),r=s(352),l=s(378),o=(s(848),s(320)),h=s(722);class u extends h.Z{constructor(e){super(e),this.isLocal=!0}}!function(e){e[e.NONE=0]="NONE",e[e.RAIDER=1]="RAIDER",e[e.VEHICLE=2]="VEHICLE",e[e.BUILDING=3]="BUILDING",e[e.SURFACE=4]="SURFACE"}(i||(i={}));class c extends u{constructor(e){var t,s,h,u,c,d,m,p,I,g,C,E;super(o.Z.SELECTION_CHANGED),this.selectPanelType=i.NONE,this.canDoTraining=new Map,this.everyHasTool=new Map,e&&(this.selectPanelType=e.selection.getSelectPanelType(),this.isGround=(null===(t=e.selection.surface)||void 0===t?void 0:t.surfaceType)===a.c.GROUND,this.isPowerPath=(null===(s=e.selection.surface)||void 0===s?void 0:s.surfaceType)===a.c.POWER_PATH,this.isFloor=null===(h=e.selection.surface)||void 0===h?void 0:h.surfaceType.floor,this.isSite=(null===(u=e.selection.surface)||void 0===u?void 0:u.surfaceType)===a.c.POWER_PATH_CONSTRUCTION||(null===(c=e.selection.surface)||void 0===c?void 0:c.surfaceType)===a.c.POWER_PATH_BUILDING_SITE,this.hasRubble=null===(d=e.selection.surface)||void 0===d?void 0:d.hasRubble(),this.isDrillable=null===(m=e.selection.surface)||void 0===m?void 0:m.isDigable(),this.isReinforcable=null===(p=e.selection.surface)||void 0===p?void 0:p.isReinforcable(),this.canPlaceFence=(null===(I=e.selection.surface)||void 0===I?void 0:I.canPlaceFence())&&e&&e.buildings.some((e=>e.entityType===n.p.POWER_STATION&&e.isUsable())),this.someCarries=!!e.selection.raiders.some((e=>!!e.carries)),this.everyHasMaxLevel=!!e.selection.raiders.every((e=>e.level>=e.stats.Levels)),l.Y_.forEach((t=>this.canDoTraining.set(t,e&&e.getTrainingSites(t).length>0&&e.selection.raiders.some((e=>!e.hasTraining(t)))))),r.C.forEach((t=>this.everyHasTool.set(t,!!e.selection.raiders.every((e=>e.hasTool(t)))))),this.buildingCanUpgrade=null===(g=e.selection.building)||void 0===g?void 0:g.canUpgrade(),this.buildingCanSwitchPower=!(null===(C=e.selection.building)||void 0===C?void 0:C.stats.SelfPowered)&&!(null===(E=e.selection.building)||void 0===E?void 0:E.stats.PowerBuilding),this.vehicleHasCallManJob=e.selection.vehicles.every((e=>!!e.callManJob)),this.allVehicleEmpty=e.selection.vehicles.every((e=>!e.driver)))}}class d extends c{constructor(){super(null)}}class m extends u{constructor(e,t=null){super(o.Z.CHANGE_CURSOR),this.cursor=e,this.timeout=t}}class p extends u{constructor(e){super(o.Z.BUILDINGS_CHANGED),this.usableBuildingsByTypeAndLevel=new Map,e.buildings.forEach((e=>{if(e.isUsable()){const t=this.usableBuildingsByTypeAndLevel.getOrUpdate(e.entityType,(()=>new Map));t.set(e.level,t.getOrUpdate(e.level,(()=>0))+1)}}))}static countUsable(e,t,s=0){let i=0;return e.usableBuildingsByTypeAndLevel.getOrUpdate(t,(()=>new Map)).forEach(((e,t)=>{t>=s&&(i+=e)})),i}}class I extends u{constructor(e){super(o.Z.PLAY_SOUND),this.sample=e}}},986:(e,t,s)=>{var i;function n(e){return"Pilot".equalsIgnoreCase(e)?i.PILOT:"Toolstation".equalsIgnoreCase(e)?i.TOOLSTATION:"TeleportPad".equalsIgnoreCase(e)?i.TELEPORT_PAD:"Docks".equalsIgnoreCase(e)?i.DOCKS:"PowerStation".equalsIgnoreCase(e)?i.POWER_STATION:"Barracks".equalsIgnoreCase(e)?i.BARRACKS:"Upgrade".equalsIgnoreCase(e)?i.UPGRADE:"GEO-Dome".equalsIgnoreCase(e)?i.GEODOME:"OreRefinery".equalsIgnoreCase(e)?i.ORE_REFINERY:"GunStation".equalsIgnoreCase(e)?i.GUNSTATION:"TeleportBIG".equalsIgnoreCase(e)?i.TELEPORT_BIG:"Bat".equalsIgnoreCase(e)?i.BAT:"SmallSpider".equalsIgnoreCase(e)?i.SMALL_SPIDER:"RockMonster".equalsIgnoreCase(e)?i.ROCK_MONSTER:"IceMonster".equalsIgnoreCase(e)?i.ICE_MONSTER:"LavaMonster".equalsIgnoreCase(e)?i.LAVA_MONSTER:"Dynamite".equalsIgnoreCase(e)?i.DYNAMITE:"EletricFence".equalsIgnoreCase(e)?i.ELECTRIC_FENCE:"PowerCrystal".equalsIgnoreCase(e)?i.CRYSTAL:"Ore".equalsIgnoreCase(e)?i.ORE:"Brick".equalsIgnoreCase(e)?i.BRICK:"Barrier".equalsIgnoreCase(e)?i.BARRIER:"Hoverboard".equalsIgnoreCase(e)?i.HOVERBOARD:"SmallDigger".equalsIgnoreCase(e)?i.SMALL_DIGGER:"SamllTruck".equalsIgnoreCase(e)?i.SMALL_TRUCK:"SmallCat".equalsIgnoreCase(e)?i.SMALL_CAT:"SmallMLP".equalsIgnoreCase(e)?i.SMALL_MLP:"SmallHeli".equalsIgnoreCase(e)?i.SMALL_HELI:"Bulldozer".equalsIgnoreCase(e)?i.BULLDOZER:"WalkerDigger".equalsIgnoreCase(e)?i.WALKER_DIGGER:"LargeMLP".equalsIgnoreCase(e)?i.LARGE_MLP:"LargeDigger".equalsIgnoreCase(e)?i.LARGE_DIGGER:"LargeCat".equalsIgnoreCase(e)?i.LARGE_CAT:"TVCamera".equalsIgnoreCase(e)?i.TV_CAMERA:(console.error("Could not identify entity type from string: "+e),null)}s.d(t,{p:()=>i,z:()=>n}),function(e){e[e.PILOT=0]="PILOT",e[e.TOOLSTATION=1]="TOOLSTATION",e[e.TELEPORT_PAD=2]="TELEPORT_PAD",e[e.DOCKS=3]="DOCKS",e[e.POWER_STATION=4]="POWER_STATION",e[e.BARRACKS=5]="BARRACKS",e[e.UPGRADE=6]="UPGRADE",e[e.GEODOME=7]="GEODOME",e[e.ORE_REFINERY=8]="ORE_REFINERY",e[e.GUNSTATION=9]="GUNSTATION",e[e.TELEPORT_BIG=10]="TELEPORT_BIG",e[e.BAT=11]="BAT",e[e.SMALL_SPIDER=12]="SMALL_SPIDER",e[e.ROCK_MONSTER=13]="ROCK_MONSTER",e[e.ICE_MONSTER=14]="ICE_MONSTER",e[e.LAVA_MONSTER=15]="LAVA_MONSTER",e[e.DYNAMITE=16]="DYNAMITE",e[e.ELECTRIC_FENCE=17]="ELECTRIC_FENCE",e[e.CRYSTAL=18]="CRYSTAL",e[e.ORE=19]="ORE",e[e.BRICK=20]="BRICK",e[e.BARRIER=21]="BARRIER",e[e.HOVERBOARD=22]="HOVERBOARD",e[e.SMALL_DIGGER=23]="SMALL_DIGGER",e[e.SMALL_TRUCK=24]="SMALL_TRUCK",e[e.SMALL_CAT=25]="SMALL_CAT",e[e.SMALL_MLP=26]="SMALL_MLP",e[e.SMALL_HELI=27]="SMALL_HELI",e[e.BULLDOZER=28]="BULLDOZER",e[e.WALKER_DIGGER=29]="WALKER_DIGGER",e[e.LARGE_MLP=30]="LARGE_MLP",e[e.LARGE_DIGGER=31]="LARGE_DIGGER",e[e.LARGE_CAT=32]="LARGE_CAT",e[e.TV_CAMERA=33]="TV_CAMERA"}(i||(i={}))},599:(e,t,s)=>{s.d(t,{c:()=>n});var i=s(505);class n{constructor(e={}){this.shaping=!1,this.matIndex="00",this.floor=!1,this.selectable=!1,this.digable=!1,this.reinforcable=!1,this.cursor=i.C.Pointer_Standard,this.cursorFulfiller=i.C.Pointer_Standard,this.statsDrillName=null,this.canCarryFence=!1,this.connectsPath=!1,this.mapSurfaceColor="#00FFFF",Object.assign(this,e)}static getByNum(e){switch(e){case 0:return n.POWER_PATH_BUILDING;case 1:return n.SOLID_ROCK;case 2:return n.HARD_ROCK;case 3:return n.LOOSE_ROCK;case 4:case 5:return n.DIRT;case 6:return n.LAVA;case 8:return n.ORE_SEAM;case 9:return n.WATER;case 10:return n.CRYSTAL_SEAM;case 11:return n.RECHARGE_SEAM;case 30:case 40:return n.SLUG_HOLE;case 100:return n.RUBBLE4;case 101:return n.RUBBLE3;case 102:return n.RUBBLE2;case 103:return n.RUBBLE1;default:return console.error("Unexpected surface type num: "+e),n.SOLID_ROCK}}}n.GROUND=new n({name:"ground",floor:!0,selectable:!0,canCarryFence:!0,cursorFulfiller:i.C.Pointer_LegoManGo,mapSurfaceColor:"#280048"}),n.SOLID_ROCK=new n({name:"solid rock",shaping:!0,matIndex:"5",cursor:i.C.Pointer_SurfaceType_Immovable,mapSurfaceColor:"#500090"}),n.HARD_ROCK=new n({name:"hard rock",shaping:!0,matIndex:"4",selectable:!0,digable:!0,reinforcable:!0,cursor:i.C.Pointer_SurfaceType_Hard,statsDrillName:"HardDrillTime",mapSurfaceColor:"#7000B0"}),n.LOOSE_ROCK=new n({name:"loose rock",shaping:!0,matIndex:"3",selectable:!0,digable:!0,reinforcable:!0,cursor:i.C.Pointer_SurfaceType_Medium,statsDrillName:"LooseDrillTime",mapSurfaceColor:"#9000D0"}),n.DIRT=new n({name:"dirt",shaping:!0,matIndex:"2",selectable:!0,digable:!0,reinforcable:!0,cursor:i.C.Pointer_SurfaceType_Loose,statsDrillName:"SoilDrillTime",mapSurfaceColor:"#B000F0"}),n.SLUG_HOLE=new n({name:"slug hole",floor:!0,matIndex:"30",mapSurfaceColor:"#280048"}),n.LAVA=new n({name:"lava",floor:!0,matIndex:"46"}),n.ORE_SEAM=new n({name:"ore seam",matIndex:"40",selectable:!0,digable:!0,reinforcable:!0,cursor:i.C.Pointer_SurfaceType_OreSeam,statsDrillName:"SeamDrillTime"}),n.WATER=new n({name:"water",floor:!0,matIndex:"45",mapSurfaceColor:"#000080"}),n.CRYSTAL_SEAM=new n({name:"energy crystal seam",matIndex:"20",selectable:!0,digable:!0,reinforcable:!0,cursor:i.C.Pointer_SurfaceType_CrystalSeam,statsDrillName:"SeamDrillTime"}),n.RECHARGE_SEAM=new n({name:"recharge seam",matIndex:"67",cursor:i.C.Pointer_SurfaceType_RechargeSeam}),n.POWER_PATH=new n({name:"power path all",floor:!0,matIndex:"60",selectable:!0,canCarryFence:!0,connectsPath:!0,mapSurfaceColor:"#FFFF00"}),n.POWER_PATH_BUILDING_SITE=new n({name:"power path building site",floor:!0,matIndex:"61",selectable:!0,canCarryFence:!0}),n.POWER_PATH_BUILDING=new n({name:"power path building",floor:!0,matIndex:"76",connectsPath:!0,mapSurfaceColor:"#B8BBB8"}),n.POWER_PATH_CONSTRUCTION=new n({name:"power path construction",floor:!0,matIndex:"76",selectable:!0,connectsPath:!0,mapSurfaceColor:"#B8BBB8"}),n.RUBBLE1=new n({name:"rubble 1",floor:!0,matIndex:"13",selectable:!0,canCarryFence:!0,cursorFulfiller:i.C.Pointer_Clear,mapSurfaceColor:"#280048"}),n.RUBBLE2=new n({name:"rubble 2",floor:!0,matIndex:"12",selectable:!0,canCarryFence:!0,cursorFulfiller:i.C.Pointer_Clear,mapSurfaceColor:"#280048"}),n.RUBBLE3=new n({name:"rubble 3",floor:!0,matIndex:"11",selectable:!0,canCarryFence:!0,cursorFulfiller:i.C.Pointer_Clear,mapSurfaceColor:"#280048"}),n.RUBBLE4=new n({name:"rubble 4",floor:!0,matIndex:"10",selectable:!0,canCarryFence:!0,cursorFulfiller:i.C.Pointer_Clear,mapSurfaceColor:"#280048"})},352:(e,t,s)=>{var i;s.d(t,{q:()=>i,C:()=>n}),function(e){e[e.NONE=0]="NONE",e[e.DRILL=1]="DRILL",e[e.HAMMER=2]="HAMMER",e[e.SHOVEL=3]="SHOVEL",e[e.SPANNER=4]="SPANNER",e[e.FREEZERGUN=5]="FREEZERGUN",e[e.LASER=6]="LASER",e[e.PUSHERGUN=7]="PUSHERGUN",e[e.BIRDSCARER=8]="BIRDSCARER"}(i||(i={}));const n=[i.DRILL,i.HAMMER,i.SHOVEL,i.SPANNER,i.FREEZERGUN,i.LASER,i.PUSHERGUN,i.BIRDSCARER]},378:(e,t,s)=>{s.d(t,{PP:()=>i,Y_:()=>a});var i,n=s(986);!function(e){e[e.NONE=0]="NONE",e[e.DRIVER=1]="DRIVER",e[e.ENGINEER=2]="ENGINEER",e[e.GEOLOGIST=3]="GEOLOGIST",e[e.PILOT=4]="PILOT",e[e.SAILOR=5]="SAILOR",e[e.DEMOLITION=6]="DEMOLITION"}(i||(i={}));const a=[i.DRIVER,i.ENGINEER,i.GEOLOGIST,i.PILOT,i.SAILOR,i.DEMOLITION],r=[];r[i.DRIVER]=n.p.BARRACKS,r[i.DRIVER]=n.p.BARRACKS,r[i.ENGINEER]=n.p.UPGRADE,r[i.GEOLOGIST]=n.p.GEODOME,r[i.PILOT]=n.p.TELEPORT_PAD,r[i.SAILOR]=n.p.DOCKS,r[i.DEMOLITION]=n.p.TOOLSTATION;const l=[];l[i.DRIVER]="TrainDriver",l[i.ENGINEER]="TrainRepair",l[i.GEOLOGIST]="TrainScanner",l[i.PILOT]="TrainPilot",l[i.SAILOR]="TrainSailor",l[i.DEMOLITION]="TrainDynamite"},101:(e,t,s)=>{var i=s(935),n=s(930);class a extends n.p{constructor(e){if(super(),9!==e.length)throw"Invalid number of arguments ("+e.length+") given for button configuration expected 9 or 5";[this.buttonType,this.normalFile,this.highlightFile,this.pressedFile,this.relX,this.relY,this.width,this.height,this.tooltip]=e}}class r extends i.l{constructor(e){super(),this.panelButtonInfoDockGoto=null,this.panelButtonInfoDockClose=null,i.l.setFromCfg(this,e)}parseValue(e,t){return new a(t)}}var l=s(211),o=s(670),h=s(344),u=s(320);class c extends o.s{constructor(e){super(e,null),this.offsetX=0,this.offsetY=0,this.surfaceRectSize=10,this.surfaceRectMargin=1,this.surfaceMap=[],this.width=152,this.height=149,this.context=(0,h.kr)(this.width,this.height),this.img=this.context.canvas,this.relX=this.xIn=this.xOut=15,this.relY=this.yIn=this.yOut=15,this.onClick=(e,t)=>{const s=e-this.x,i=t-this.y;this.offsetX+=s-this.width/2,this.offsetY+=i-this.height/2,this.redrawMap(!0)},this.registerEventListener(u.Z.UPDATE_RADAR_TERRAIN,(e=>{this.surfaceMap=[],e.surfaces.forEach((e=>{this.surfaceMap[e.x]=this.surfaceMap[e.x]||[],this.surfaceMap[e.x][e.y]=e})),this.offsetX=e.tileX*this.surfaceRectSize-this.width/2,this.offsetY=e.tileY*this.surfaceRectSize-this.height/2,this.redrawMap()})),this.registerEventListener(u.Z.UPDATE_RADAR_SURFACE,(e=>{const t=e.surfaceRect;this.surfaceMap[t.x]=this.surfaceMap[t.x]||[],this.surfaceMap[t.x][t.y]=t,this.redrawSurface(t),this.notifyRedraw()}))}redrawMap(e=!1){this.context.fillStyle="#000",this.context.fillRect(0,0,this.img.width,this.img.height),this.surfaceMap.forEach((e=>e.forEach((e=>this.redrawSurface(e))))),e&&this.notifyRedraw()}redrawSurface(e){const t=Math.round(e.x*this.surfaceRectSize+this.surfaceRectMargin-this.offsetX),s=Math.round(e.y*this.surfaceRectSize+this.surfaceRectMargin-this.offsetY);e.borderColor?(this.context.fillStyle=e.borderColor,this.context.fillRect(t,s,this.surfaceRectSize-this.surfaceRectMargin,this.surfaceRectSize-this.surfaceRectMargin),this.context.fillStyle=e.surfaceColor,this.context.fillRect(t+1,s+1,this.surfaceRectSize-this.surfaceRectMargin-2,this.surfaceRectSize-this.surfaceRectMargin-2)):(this.context.fillStyle=e.surfaceColor,this.context.fillRect(t,s,this.surfaceRectSize-this.surfaceRectMargin,this.surfaceRectSize-this.surfaceRectMargin))}}class d extends o.s{constructor(e,t,s,i,n){super(e,t),this.map=this.addChild(new c(this)),this.fill=this.addChild(new o.s(this,s)),this.fill.xIn=0,this.fill.yIn=0,this.fill.xOut=0,this.fill.yOut=0,this.fill.updatePosition(),this.overlay=this.addChild(new o.s(this,i)),this.btnToggle=this.addChild(new l.z(this,n.panelButtonRadarToggle)),this.btnToggle.onClick=()=>this.toggleState(),this.btnMap=this.addChild(new l.z(this,n.panelButtonRadarMapView)),this.btnMap.onClick=()=>{this.fill.hide(),this.overlay.hide(),this.map.show()},this.btnTagged=this.addChild(new l.z(this,n.panelButtonRadarTaggedObjectView)),this.btnTagged.onClick=()=>{this.fill.show(),this.map.hide()}}reset(){super.reset(),this.map.show(),this.fill.hide(),this.overlay.hide()}onRedraw(e){this.hidden||(this.map.onRedraw(e),this.map.hidden=!0,super.onRedraw(e),this.map.hidden=!1)}}class m extends i.l{constructor(e){super(),this.panelButtonRadarToggle=null,this.panelButtonRadarTaggedObjectView=null,this.panelButtonRadarZoomIn=null,this.panelButtonRadarZoomOut=null,this.panelButtonRadarMapView=null,i.l.setFromCfg(this,e)}parseValue(e,t){return new a(t)}}var p=s(458),I=s(360);class g extends I.H{constructor(e,t){super(e),this.relX=t.relX,this.relY=t.relY,this.width=t.width,this.height=t.height,this.tooltip=t.tooltip,this.label="0",this.updatePosition()}reset(){super.reset(),this.label="0"}onRedraw(e){this.hidden||(e.textAlign="center",e.font="bold 10px Arial",e.fillStyle="#fff",e.fillText(this.label,this.x+this.width/2,this.y+this.height-2),super.onRedraw(e))}}class C extends o.s{constructor(e,t,s){super(e,t),this.numCrystal=0,this.usedCrystals=0,this.neededCrystals=0,this.totalOre=0,this.labelOre=this.addChild(new g(this,s.panelButtonCrystalSideBarOre)),this.labelCrystal=this.addChild(new g(this,s.panelButtonCrystalSideBarCrystals)),this.imgNoCrystal=p.x.getImage("Interface/RightPanel/NoSmallCrystal.bmp"),this.imgSmallCrystal=p.x.getImage("Interface/RightPanel/SmallCrystal.bmp"),this.imgUsedCrystal=p.x.getImage("Interface/RightPanel/UsedCrystal.bmp"),this.imgOre=p.x.getImage("Interface/RightPanel/CrystalSideBar_Ore.bmp"),this.registerEventListener(u.Z.MATERIAL_AMOUNT_CHANGED,(e=>{this.labelOre.label=e.totalOre.toString(),this.labelCrystal.label=e.numCrystal.toString(),this.numCrystal=e.numCrystal,this.usedCrystals=e.usedCrystal,this.neededCrystals=e.neededCrystal,this.totalOre=e.totalOre,this.notifyRedraw()}))}reset(){super.reset(),this.numCrystal=0,this.usedCrystals=0,this.neededCrystals=0,this.totalOre=0}onRedraw(e){super.onRedraw(e);let t=this.x+this.img.width-8,s=this.y+this.img.height-34;for(let i=0;(this.neededCrystals<1||i<Math.max(this.neededCrystals,this.numCrystal))&&s>=Math.max(this.imgNoCrystal.height,this.imgSmallCrystal.height,this.imgUsedCrystal.height);i++){let n=this.imgNoCrystal;this.usedCrystals>i?n=this.imgUsedCrystal:this.numCrystal>i&&(n=this.imgSmallCrystal),s-=n.height,e.drawImage(n,t-n.width/2,s)}t=this.x+this.img.width-21,s=this.y+this.img.height-42;for(let i=0;i<this.totalOre&&s>=this.imgOre.height;++i)s-=this.imgOre.height,e.drawImage(this.imgOre,t-this.imgOre.width/2,s)}}class E extends i.l{constructor(e){super(),this.panelButtonCrystalSideBarOre=null,this.panelButtonCrystalSideBarCrystals=null,i.l.setFromCfg(this,e)}parseValue(e,t){return new a(t)}}class R extends i.l{constructor(e){super(),this.panelButtonPriorityListDisable=[],this.panelButtonPriorityListUpOne=[],this.panelButtonPriorityListClose=null,this.panelButtonPriorityListReset=null,i.l.setFromCfg(this,e)}assignValue(e,t,s){return t.match(/panelButtonPriorityListDisable\d+/i)?(this.panelButtonPriorityListDisable.push(this.parseValue(t,s)),!0):t.match(/panelButtonPriorityListUpOne\d+/i)?(this.panelButtonPriorityListUpOne.push(this.parseValue(t,s)),!0):super.assignValue(e,t,s)}parseValue(e,t){return new a(t)}}class f extends i.l{constructor(e){super(),this.panelButtonTopPanelCallToArms=null,this.panelButtonTopPanelOptions=null,this.panelButtonTopPanelPriorities=null,i.l.setFromCfg(this,e)}parseValue(e,t){return new a(t)}}class P extends i.l{constructor(e){super(),this.panelButtonCameraControlZoomIn=null,this.panelButtonCameraControlZoomOut=null,this.panelButtonCameraControlCycleBuildings=null,this.panelButtonCameraControlRotate=null,i.l.setFromCfg(this,e)}parseValue(e,t){return new a(t)}}class S extends i.l{constructor(e){super(),this.panelButtonInformationToggle=null,this.panelButtonInformationFunction=null,i.l.setFromCfg(this,e)}parseValue(e,t){return new a(t)}}class T extends i.l{constructor(e){super(),this.panelRadar=null,this.panelCrystalSideBar=null,this.panelTopPanel=null,this.panelInformation=null,this.panelPriorityList=null,this.panelCameraControl=null,this.panelInfoDock=null,this.panelEncyclopedia=null,i.l.setFromCfg(this,e)}parseValue(e,t){const s={};return t.forEach((e=>s[e[0]]=e)),e==="panelRadar".toLowerCase()?new m(s):e==="panelCrystalSideBar".toLowerCase()?new E(s):e==="panelTopPanel".toLowerCase()?new f(s):e==="panelInformation".toLowerCase()?new S(s):e==="panelPriorityList".toLowerCase()?new R(s):e==="panelCameraControl".toLowerCase()?new P(s):e==="panelInfoDock".toLowerCase()?new r(s):e==="panelEncyclopedia".toLowerCase()?null:s}}var M=s(234);class O extends i.l{constructor(e){super(),this.panelRadar=null,this.panelRadarFill=null,this.panelRadarOverlay=null,this.panelMessages=null,this.panelMessagesSide=null,this.panelCrystalSideBar=null,this.panelTopPanel=null,this.panelInformation=null,this.panelPriorityList=null,this.panelCameraControl=null,this.panelInfoDock=null,this.panelEncyclopedia=null,i.l.setFromCfg(this,e)}parseValue(e,t){return new M.l(t)}}var L=s(346),y=s(89);class _ extends y.MI{}class A extends _{constructor(){super(u.Z.COMMAND_CANCEL_BUILD_MODE)}}class D extends _{constructor(e){super(u.Z.COMMAND_SELECT_BUILD_MODE),this.entityType=e}}class b extends _{constructor(e){super(u.Z.COMMAND_PICK_TOOL),this.tool=e}}class w extends _{constructor(){super(u.Z.COMMAND_CREATE_POWER_PATH)}}class B extends _{constructor(){super(u.Z.COMMAND_PLACE_FENCE)}}class N extends _{constructor(){super(u.Z.COMMAND_MAKE_RUBBLE)}}class x extends _{constructor(e){super(u.Z.COMMAND_CHANGE_RAIDER_SPAWN_REQUEST),this.increase=e}}class v extends _{constructor(){super(u.Z.COMMAND_CREATE_CLEAR_RUBBLE_JOB)}}class G extends _{constructor(){super(u.Z.COMMAND_UPGRADE_BUILDING)}}class k extends _{constructor(){super(u.Z.COMMAND_BUILDING_BEAMUP)}}class U extends _{constructor(e){super(u.Z.COMMAND_CHANGE_PRIORITY_LIST),this.priorityList=e}}class F extends _{constructor(e){super(u.Z.COMMAND_CHANGE_BUILDING_POWER_STATE),this.state=e}}class H extends _{constructor(){super(u.Z.COMMAND_CREATE_DRILL_JOB)}}class V extends _{constructor(){super(u.Z.COMMAND_CREATE_REINFORCE_JOB)}}class Z extends _{constructor(){super(u.Z.COMMAND_CREATE_DYNAMITE_JOB)}}class Y extends _{constructor(){super(u.Z.COMMAND_CANCEL_SURFACE_JOBS)}}class q extends _{constructor(){super(u.Z.COMMAND_RAIDER_EAT)}}class z extends _{constructor(){super(u.Z.COMMAND_RAIDER_DROP)}}class W extends _{constructor(){super(u.Z.COMMAND_RAIDER_UPGRADE)}}class K extends _{constructor(){super(u.Z.COMMAND_RAIDER_BEAMUP)}}class X extends _{constructor(e){super(u.Z.COMMAND_TRAIN_RAIDER),this.training=e}}class j extends _{constructor(){super(u.Z.COMMAND_CANCEL_CONSTRUCTION)}}class J extends _{constructor(e){super(u.Z.COMMAND_REQUEST_VEHICLE_SPAWN),this.vehicle=e}}class Q extends _{constructor(){super(u.Z.COMMAND_VEHICLE_GET_MAN)}}class $ extends _{constructor(){super(u.Z.COMMAND_VEHICLE_BEAMUP)}}class ee extends _{constructor(){super(u.Z.COMMAND_VEHICLE_DRIVER_GET_OUT)}}class te extends _{constructor(e,t,s){super(u.Z.COMMAND_CAMERA_CONTROL),this.zoom=e,this.cycleBuilding=t,this.rotationIndex=s}}class se extends o.s{constructor(e,t,s,i){super(e,t),this.addChild(new l.z(this,s.panelButtonCameraControlZoomIn)).onClick=()=>{this.publishEvent(new te(-1,!1,-1))},this.addChild(new l.z(this,s.panelButtonCameraControlZoomOut)).onClick=()=>{this.publishEvent(new te(1,!1,-1))},this.addChild(new l.z(this,s.panelButtonCameraControlCycleBuildings)).onClick=()=>{this.publishEvent(new te(0,!0,-1))},["LeftImage","UpImage","RightImage","DownImage"].forEach(((e,t)=>{const s=i[e];this.addChild(new l.z(this,{highlightFile:s[0],relX:s[1]-this.relX,relY:s[2]-this.relY})).onClick=()=>{this.publishEvent(new te(0,!1,t))}}))}}var ie=s(920);class ne extends n.p{constructor(e){super(),this.normalFile=e,this.highlightFile=e,this.pressedFile=e,this.disabledFile=e,this.relX=0,this.relY=0}}var ae=s(538),re=s(848);class le extends l.z{constructor(e,t,s){super(e,new ne(t.buttonImageFilename)),this.messages=[],this.text=null,this.animationTimeout=null,this.animationSpeedX=.5,this.animationSpeedY=1,this.text=t.message,this.hidden=!0,this.onClick=()=>{this.messages.length<1||e.buttonClicked(this)},this.registerEventListener(s,(t=>{for(this.hidden=!1;this.messages.length>=9;)this.messages.pop();this.messages.unshift(t),e.showButton(this)}))}reset(){super.reset(),this.animationTimeout=(0,ae.L4)(this.animationTimeout),this.hidden=!0,this.messages=[]}slideToTarget(e,t){return new Promise((s=>this.updateAnimation(e,t,s)))}updateAnimation(e,t,s){const i=e-this.relX,n=t-this.relY;if(Math.abs(i)<=this.animationSpeedX&&Math.abs(n)<=this.animationSpeedY)this.relX=e,this.relY=t,this.animationTimeout=null,s&&s();else{this.relX+=Math.round(Math.sign(i)*Math.sqrt(Math.abs(i))*this.animationSpeedX),this.relY+=Math.round(Math.sign(n)*Math.sqrt(Math.abs(n))*this.animationSpeedY);const a=this;this.animationTimeout=setTimeout((()=>a.updateAnimation(e,t,s)),1e3/re.OK)}this.updatePosition(),this.notifyRedraw()}onRedraw(e){super.onRedraw(e),this.hidden||(e.textAlign="left",e.font="bold 10px Arial",e.fillStyle="#fff",e.fillText(this.messages.length.toString(),this.x+2,this.y+this.height/2+2))}}class oe extends o.s{constructor(e,t,s,i,n){super(e,t),this.stackButtons=[],this.informationPanel=null,this.informationPanel=n,this.addChild(new l.z(this,s.panelButtonInfoDockGoto)).onClick=()=>this.gotoLatestMessage(),this.addChild(new l.z(this,s.panelButtonInfoDockClose)).onClick=()=>this.dropLatestMessage(),this.addChild(new le(this,i.infoGenericDeath,u.Z.LOCATION_DEATH)),this.addChild(new le(this,i.infoGenericMonster,u.Z.LOCATION_MONSTER)),this.addChild(new le(this,i.infoCrystalFound,u.Z.LOCATION_CRYSTAL_FOUND)),this.addChild(new le(this,i.infoUnderAttack,u.Z.LOCATION_UNDER_ATTACK)),this.addChild(new le(this,i.infoLandslide,u.Z.LOCATION_LANDSLIDE)),this.addChild(new le(this,i.infoPowerDrain,u.Z.LOCATION_POWER_DRAIN)),this.addChild(new le(this,i.infoSlugEmerge,u.Z.LOCATION_SLUG_EMERGE)),this.addChild(new le(this,i.infoFoundMinifigure,u.Z.LOCATION_RAIDER_DISCOVERED))}reset(){super.reset(),this.stackButtons=[]}gotoLatestMessage(){if(this.stackButtons.length<1)return;const e=this.stackButtons[0];if(e.messages.length<1)return;const t=e.messages[0];console.log("TODO force move camera to",t.location)}dropLatestMessage(){if(this.stackButtons.length<1)return;const e=this.stackButtons[0];e.messages.length<1||(e.messages.shift(),e.messages.length<1&&(e.hidden=!0,this.informationPanel.setMovedIn(!0),this.stackButtons.splice(this.stackButtons.indexOf(e),1),this.slideStackIntoPosition().then()),e.notifyRedraw())}showButton(e){this.stackButtons.includes(e)?e.notifyRedraw():this.slideInButton(e)}slideInButton(e){this.stackButtons.forEach((e=>e.disabled=!0));const t=-this.stackButtons.map((e=>e.height)).reduce(((e,t)=>e+t),0);this.stackButtons.push(e),e.relX=-e.width,e.relY=t-e.height,e.updatePosition(),e.slideToTarget(0,t).then((()=>this.stackButtons.forEach((e=>e.disabled=!1))))}buttonClicked(e){e!==this.stackButtons[0]?this.pushFirst(e):(this.informationPanel.setText(e.text),this.informationPanel.toggleState())}pushFirst(e){this.stackButtons.splice(this.stackButtons.indexOf(e),1),this.stackButtons.unshift(e),this.slideStackIntoPosition().then((()=>{this.informationPanel.setText(e.text),this.informationPanel.setMovedIn(!1)}))}slideStackIntoPosition(){this.stackButtons.forEach((e=>e.disabled=!0));let e=0;const t=this.stackButtons.map((t=>{const s=t.slideToTarget(0,e);return e-=t.height,s}));return new Promise((e=>{Promise.all(t).then((()=>{this.stackButtons.forEach((e=>e.disabled=!1)),e()}))}))}}class he{constructor(e){this.message=null,this.buttonImageFilename=null,this.sfx=null,this.timing=null,this.flag=null,[this.message,this.buttonImageFilename,this.sfx,this.timing,this.flag]=e,this.message=this.message.replace(/_/g," ")}}class ue extends i.l{constructor(e){super(),this.infoGenericDeath=null,this.infoGenericMonster=null,this.infoCrystalFound=null,this.infoUnderAttack=null,this.infoLandslide=null,this.infoPowerDrain=null,this.infoSlugEmerge=null,this.infoFoundMinifigure=null,i.l.setFromCfg(this,e)}parseValue(e,t){return new he(t)}}class ce extends o.s{constructor(e,t){super(e,t),this.font=null,this.textImage=null,this.font=p.x.getDefaultFont()}setText(e){this.textImage=e?this.font.createTextImage(e,this.img.width-80):null,this.notifyRedraw()}onRedraw(e){super.onRedraw(e),this.textImage&&e.drawImage(this.textImage,this.x+(this.img.width-this.textImage.width)/2,this.y+12)}}var de=s(986);class me extends n.p{constructor(e){super(),[this.width,this.height,this.highlightFile,this.pressedFile,this.tooltip]=e,this.relX=4,this.relY=14}}function pe(e){const t=Array.isArray(e)?e.join(","):e;return null==t?void 0:t.replace(/_/g," ")}class Ie extends n.p{constructor(e){if(super(),this.tooltipSfx=null,this.tooltipDisabled=null,this.tooltipDisabledSfx=null,this.hotkey=null,4===e.length)[this.normalFile,this.disabledFile,this.pressedFile,this.hotkey]=e;else if(6===e.length||7===e.length){let t,s;[this.normalFile,this.disabledFile,this.pressedFile,t,s,this.hotkey]=e,this.tooltip=pe(t),this.tooltipDisabled=pe(s)}else console.error("Unexpected menu item cfg value length: "+e.length);this.width=40,this.height=40}}class ge extends l.z{constructor(e,t,s,i,n){super(e,t),this.tooltipSfx=null,this.tooltipDisabled=null,this.tooltipDisabledSfx=null,this.hotkey=null,this.isDisabled=()=>this.disabled,this.buttonType=s,this.relX=i-59,this.relY=9+this.height*n,this.tooltipSfx=t.tooltipSfx,this.tooltipDisabled=t.tooltipDisabled,this.tooltipDisabledSfx=t.tooltipDisabledSfx,this.hotkey=t.hotkey,this.disabled=!0,this.onClick=()=>console.log("menu item pressed: "+this.buttonType)}reset(){super.reset(),this.disabled=!0,this.updateState(!1)}updateState(e=!0){const t=!!this.isDisabled(),s=this.disabled!==t;return this.disabled=t,s&&e&&this.notifyRedraw(),s}drawHover(e){super.drawHover(e),!this.disabled&&this.hover&&(e.strokeStyle="#0f0",e.lineWidth=2,e.strokeRect(this.x-e.lineWidth/2,this.y-e.lineWidth/2,this.width+e.lineWidth-1,this.height+e.lineWidth-1))}}class Ce extends o.s{constructor(e,t,s=null){if(super(e),this.backBtn=null,this.iconPanelButtons=[],s){const e=new me(p.x.cfg("InterfaceBackButton"));this.backBtn=this.addChild(new l.z(this,e)),this.backBtn.onClick=()=>this.toggleState((()=>s.toggleState()))}const i=p.x.cfg("InterfaceSurroundImages",t.toString()),[n,a,r,o,h,u,c,d]=i;this.img=s?p.x.getImage(n):p.x.getImage(u),this.xOut=-this.img.width}addMenuItem(e,t){const s=new Ie(p.x.cfg(e,t)),i=this.addChild(new ge(this,s,t,this.img.width,this.iconPanelButtons.length));return this.iconPanelButtons.push(i),i}toggleState(e=null){super.toggleState(e),this.movedIn||this.updateAllButtonStates()}updateAllButtonStates(){this.iconPanelButtons.forEach((e=>e.updateState(!1))),this.notifyRedraw()}}class Ee extends Ce{constructor(e,t,s){super(e,t,s),this.hasRaider=!1,this.usableBuildingsByTypeAndLevel=new Map,this.registerEventListener(u.Z.RAIDERS_CHANGED,(e=>{this.hasRaider=e.numRaiders>0,this.updateAllButtonStates()})),this.registerEventListener(u.Z.BUILDINGS_CHANGED,(e=>{this.usableBuildingsByTypeAndLevel=e.usableBuildingsByTypeAndLevel,this.updateAllButtonStates()}))}reset(){super.reset(),this.hasRaider=!1,this.usableBuildingsByTypeAndLevel=new Map}addDependencyMenuItem(e){const t=super.addMenuItem("InterfaceBuildImages",e),s=p.x.cfg("Dependencies","AlwaysCheck:"+e);return t.isDisabled=()=>s.some((e=>!this.checkDependency(e))),t}checkDependency(e){const t=(0,de.z)(e[0]),s=e[1];if(t===de.p.PILOT)return this.hasRaider;{const e=this.usableBuildingsByTypeAndLevel.get(t);let i=!1;return null==e||e.forEach(((e,t)=>{t>=s&&(i=i||e>0)})),i}}}class Re extends Ee{constructor(e,t){super(e,10,t),this.backBtn.onClick=()=>{this.publishEvent(new A),this.toggleState((()=>t.toggleState()))},this.addBuildMenuItem("Toolstation",de.p.TOOLSTATION),this.addBuildMenuItem("TeleportPad",de.p.TELEPORT_PAD),this.addBuildMenuItem("Docks",de.p.DOCKS),this.addBuildMenuItem("Powerstation",de.p.POWER_STATION),this.addBuildMenuItem("Barracks",de.p.BARRACKS),this.addBuildMenuItem("Upgrade",de.p.UPGRADE),this.addBuildMenuItem("Geo-dome",de.p.GEODOME),this.addBuildMenuItem("OreRefinery",de.p.ORE_REFINERY),this.addBuildMenuItem("Gunstation",de.p.GUNSTATION),this.addBuildMenuItem("TeleportBIG",de.p.TELEPORT_BIG)}addBuildMenuItem(e,t){this.addDependencyMenuItem(e).onClick=()=>this.publishEvent(new D(t))}}var fe=s(352);class Pe extends Ce{constructor(e,t){super(e,8,t),this.numUsableToolstations=0,this.everyHasTool=new Map,this.addGetToolItem("InterfaceImages","Interface_MenuItem_GetDrill",fe.q.DRILL),this.addGetToolItem("InterfaceImages","Interface_MenuItem_GetSpade",fe.q.SHOVEL),this.addGetToolItem("InterfaceImages","Interface_MenuItem_GetHammer",fe.q.HAMMER),this.addGetToolItem("InterfaceImages","Interface_MenuItem_GetSpanner",fe.q.SPANNER),this.addGetToolItem("InterfaceImages","Interface_MenuItem_GetFreezerGun",fe.q.FREEZERGUN),this.addGetToolItem("InterfaceImages","Interface_MenuItem_GetLaser",fe.q.LASER),this.addGetToolItem("InterfaceImages","Interface_MenuItem_GetPusherGun",fe.q.PUSHERGUN),this.addGetToolItem("InterfaceImages","Interface_MenuItem_GetBirdScarer",fe.q.BIRDSCARER),this.registerEventListener(u.Z.BUILDINGS_CHANGED,(e=>{this.numUsableToolstations=y.Ry.countUsable(e,de.p.TOOLSTATION),this.updateAllButtonStates()})),this.registerEventListener(u.Z.SELECTION_CHANGED,(e=>{this.everyHasTool=e.everyHasTool,this.updateAllButtonStates()}))}addGetToolItem(e,t,s){const i=super.addMenuItem(e,t);return i.isDisabled=()=>this.numUsableToolstations<1||!!this.everyHasTool.get(s),i.onClick=()=>this.publishEvent(new b(s)),i}reset(){super.reset(),this.numUsableToolstations=0,this.everyHasTool=new Map}}class Se extends I.H{constructor(e){super(e),this.label="",this.relX=4,this.relY=11}setLabel(e){this.label=(e||"").toString()}reset(){super.reset(),this.label=""}onRedraw(e){this.hidden||(e.textAlign="left",e.font="bold 10px Arial",e.fillStyle=this.disabled||this.parent&&this.parent.disabled?"#444":"#fff",e.fillText(this.label,this.x,this.y),super.onRedraw(e))}}class Te extends ge{constructor(e,t,s,i,n){super(e,t,null,i,n),this.toggleState=!1,this.imgOnNormal=p.x.getImageOrNull(s.normalFile),this.imgOnHover=p.x.getImageOrNull(s.highlightFile),this.imgOnPressed=p.x.getImageOrNull(s.pressedFile),this.imgOnDisabled=p.x.getImageOrNull(s.disabledFile)}clicked(e,t,s){this.toggleState=!this.toggleState,super.clicked(e,t,s)}onRedraw(e){if(this.hidden)return;let t=this.toggleState?this.imgOnNormal:this.imgNormal;this.disabled?t=this.toggleState?this.imgOnDisabled||this.imgOnPressed||this.imgOnNormal:this.imgDisabled||this.imgPressed||this.imgNormal:null!==this.pressedByButton?t=this.toggleState?this.imgOnPressed||this.imgOnNormal:this.imgPressed||this.imgNormal:this.hover&&(t=this.toggleState?this.imgOnHover||this.imgOnNormal:this.imgHover||this.imgNormal),t&&e.drawImage(t,this.x,this.y),this.children.forEach((t=>t.onRedraw(e))),this.children.forEach((t=>t.drawHover(e))),this.children.forEach((t=>t.drawTooltip(e)))}}class Me extends Ce{constructor(e,t,s){super(e,t,s),this.backBtn.onClick=()=>this.publishEvent(new y.Qi)}}class Oe extends Me{constructor(e,t){super(e,4,t),this.usedCrystal=0,this.numCrystal=0,this.buildingCanUpgrade=!1,this.buildingCanSwitchPower=!1,this.addMenuItem("InterfaceImages","Interface_MenuItem_Repair");const s=new Ie(p.x.cfg("InterfaceImages","Interface_MenuItem_PowerOff")),i=new Ie(p.x.cfg("InterfaceImages","Interface_MenuItem_PowerOn")),n=this.addChild(new Te(this,s,i,this.img.width,this.iconPanelButtons.length));this.iconPanelButtons.push(n),n.isDisabled=()=>this.usedCrystal>=this.numCrystal||!this.buildingCanSwitchPower,n.onClick=()=>this.publishEvent(new F(!n.toggleState));const a=this.addMenuItem("InterfaceImages","Interface_MenuItem_UpgradeBuilding");a.isDisabled=()=>!this.buildingCanUpgrade,a.onClick=()=>this.publishEvent(new G);const r=this.addMenuItem("InterfaceImages","Interface_MenuItem_DeleteBuilding");r.isDisabled=()=>!1,r.onClick=()=>this.publishEvent(new k),this.registerEventListener(u.Z.SELECTION_CHANGED,(e=>{this.buildingCanUpgrade=e.buildingCanUpgrade,this.buildingCanSwitchPower=e.buildingCanSwitchPower,this.updateAllButtonStates()})),this.registerEventListener(u.Z.MATERIAL_AMOUNT_CHANGED,(e=>{this.numCrystal=e.numCrystal,this.usedCrystal=e.usedCrystal,this.updateAllButtonStates()}))}reset(){super.reset(),this.usedCrystal=0,this.numCrystal=0,this.buildingCanUpgrade=!1,this.buildingCanSwitchPower=!1}}class Le extends Me{constructor(e,t){super(e,3,t),this.isGround=!1,this.isPowerPath=!1,this.canPlaceFence=!1;const s=this.addMenuItem("InterfaceImages","Interface_MenuItem_LayPath");s.onClick=()=>this.publishEvent(new w),s.isDisabled=()=>!this.isGround;const i=this.addMenuItem("InterfaceImages","Interface_MenuItem_RemovePath");i.onClick=()=>this.publishEvent(new N),i.isDisabled=()=>!this.isPowerPath;const n=this.addMenuItem("InterfaceImages","Interface_MenuItem_PlaceFence");n.isDisabled=()=>!this.canPlaceFence,n.onClick=()=>this.publishEvent(new B),this.registerEventListener(u.Z.SELECTION_CHANGED,(e=>{this.isGround=e.isGround,this.isPowerPath=e.isPowerPath,this.canPlaceFence=e.canPlaceFence,this.updateAllButtonStates()}))}reset(){super.reset(),this.isGround=!1,this.isPowerPath=!1,this.canPlaceFence=!1}}class ye extends Me{constructor(e,t){super(e,10,t),this.someCarries=!1,this.everyHasMaxLevel=!1,this.numToolstations=0;const s=this.addMenuItem("InterfaceImages","Interface_MenuItem_GoFeed");s.isDisabled=()=>!1,s.onClick=()=>this.publishEvent(new q);const i=this.addMenuItem("InterfaceImages","Interface_MenuItem_UnLoadMinifigure");i.isDisabled=()=>!this.someCarries,i.onClick=()=>this.publishEvent(new z),this.addMenuItem("InterfaceImages","Interface_MenuItem_MinifigurePickUp"),this.getToolItem=this.addMenuItem("InterfaceImages","Interface_MenuItem_GetTool"),this.getToolItem.isDisabled=()=>!1,this.addMenuItem("InterfaceImages","Interface_MenuItem_DropBirdScarer");const n=this.addMenuItem("InterfaceImages","Interface_MenuItem_UpgradeMan");n.isDisabled=()=>this.everyHasMaxLevel||this.numToolstations<1,n.onClick=()=>this.publishEvent(new W),this.trainItem=this.addMenuItem("InterfaceImages","Interface_MenuItem_TrainSkill"),this.trainItem.isDisabled=()=>!1,this.addMenuItem("InterfaceImages","Interface_MenuItem_GotoFirstPerson"),this.addMenuItem("InterfaceImages","Interface_MenuItem_GotoSecondPerson");const a=this.addMenuItem("InterfaceImages","Interface_MenuItem_DeleteMan");a.isDisabled=()=>!1,a.onClick=()=>this.publishEvent(new K),this.registerEventListener(u.Z.SELECTION_CHANGED,(e=>{this.someCarries=e.someCarries,this.everyHasMaxLevel=e.everyHasMaxLevel,this.updateAllButtonStates()})),this.registerEventListener(u.Z.BUILDINGS_CHANGED,(e=>{this.numToolstations=y.Ry.countUsable(e,de.p.TOOLSTATION),this.updateAllButtonStates()}))}reset(){super.reset(),this.someCarries=!1,this.everyHasMaxLevel=!1,this.numToolstations=0}}class _e extends Me{constructor(e,t){super(e,2,t),this.hasRubble=!1,this.canPlaceFence=!1;const s=this.addMenuItem("InterfaceImages","Interface_MenuItem_ClearRubble");s.isDisabled=()=>!this.hasRubble,s.onClick=()=>this.publishEvent(new v),this.addMenuItem("InterfaceImages","Interface_MenuItem_PlaceFence").isDisabled=()=>!this.canPlaceFence,this.registerEventListener(u.Z.SELECTION_CHANGED,(e=>{this.hasRubble=e.hasRubble,this.canPlaceFence=e.canPlaceFence,this.updateAllButtonStates()}))}reset(){super.reset(),this.hasRubble=!1,this.canPlaceFence=!1}}class Ae extends Me{constructor(e,t){super(e,1,t);const s=this.addMenuItem("InterfaceImages","Interface_MenuItem_CancelConstruction");s.isDisabled=()=>!1,s.onClick=()=>{this.publishEvent(new j)}}}class De extends Me{constructor(e,t){super(e,2,t),this.vehicleHasJob=!1;const s=this.addMenuItem("InterfaceImages","Interface_MenuItem_GetIn");s.onClick=()=>this.publishEvent(new Q),s.isDisabled=()=>this.vehicleHasJob;const i=this.addMenuItem("InterfaceImages","Interface_MenuItem_DeleteVehicle");i.isDisabled=()=>!1,i.onClick=()=>this.publishEvent(new $),this.registerEventListener(u.Z.SELECTION_CHANGED,(e=>{this.vehicleHasJob=e.vehicleHasCallManJob,s.updateState()}))}}class be extends Me{constructor(e,t){super(e,7,t),this.allVehicleEmpty=!1,this.addMenuItem("InterfaceImages","Interface_MenuItem_UnLoadVehicle"),this.addMenuItem("InterfaceImages","Interface_MenuItem_VehiclePickUp"),this.addMenuItem("InterfaceImages","Interface_MenuItem_UpgradeVehicle");const s=this.addMenuItem("InterfaceImages","Interface_MenuItem_GetOut");s.isDisabled=()=>this.allVehicleEmpty,s.onClick=()=>this.publishEvent(new ee),this.addMenuItem("InterfaceImages","Interface_MenuItem_GotoFirstPerson"),this.addMenuItem("InterfaceImages","Interface_MenuItem_GotoSecondPerson");const i=this.addMenuItem("InterfaceImages","Interface_MenuItem_DeleteVehicle");i.isDisabled=()=>!1,i.onClick=()=>this.publishEvent(new $),this.registerEventListener(u.Z.SELECTION_CHANGED,(e=>{this.allVehicleEmpty=e.allVehicleEmpty,s.updateState()}))}}class we extends Me{constructor(e,t){super(e,4,t),this.isDrillable=!1,this.isReinforcable=!1,this.numToolstationsLevel2=0;const s=this.addMenuItem("InterfaceImages","Interface_MenuItem_Dig");s.isDisabled=()=>!this.isDrillable,s.onClick=()=>this.publishEvent(new H);const i=this.addMenuItem("InterfaceImages","Interface_MenuItem_Reinforce");i.isDisabled=()=>!this.isReinforcable,i.onClick=()=>this.publishEvent(new V);const n=this.addMenuItem("InterfaceImages","Interface_MenuItem_Dynamite");n.isDisabled=()=>this.numToolstationsLevel2<1,n.onClick=()=>this.publishEvent(new Z);const a=this.addMenuItem("InterfaceImages","Interface_MenuItem_DeselectDig");a.isDisabled=()=>!1,a.onClick=()=>this.publishEvent(new Y),this.registerEventListener(u.Z.SELECTION_CHANGED,(e=>{this.isDrillable=e.isDrillable,this.isReinforcable=e.isReinforcable,this.updateAllButtonStates()})),this.registerEventListener(u.Z.BUILDINGS_CHANGED,(e=>{this.numToolstationsLevel2=y.Ry.countUsable(e,de.p.TOOLSTATION,2)}))}reset(){super.reset(),this.isDrillable=!1,this.isReinforcable=!1,this.numToolstationsLevel2=0}}var Be=s(378);class Ne extends Ce{constructor(e,t){super(e,6,t),this.canDoTraining=new Map,this.addTrainingItem("Interface_MenuItem_TrainDriver",Be.PP.DRIVER),this.addTrainingItem("Interface_MenuItem_TrainEngineer",Be.PP.ENGINEER),this.addTrainingItem("Interface_MenuItem_TrainGeologist",Be.PP.GEOLOGIST),this.addTrainingItem("Interface_MenuItem_TrainPilot",Be.PP.PILOT),this.addTrainingItem("Interface_MenuItem_TrainSailor",Be.PP.SAILOR),this.addTrainingItem("Interface_MenuItem_TrainDynamite",Be.PP.DEMOLITION),this.registerEventListener(u.Z.SELECTION_CHANGED,(e=>{this.canDoTraining=e.canDoTraining,this.updateAllButtonStates()}))}addTrainingItem(e,t){const s=this.addMenuItem("InterfaceImages",e);s.isDisabled=()=>!this.canDoTraining.get(t),s.onClick=()=>this.publishEvent(new X(t))}reset(){super.reset(),this.canDoTraining=new Map}}class xe extends Ee{addVehicleMenuItem(e,t){this.addDependencyMenuItem(e).onClick=()=>this.publishEvent(new J(t))}}class ve extends xe{constructor(e,t){super(e,6,t),this.addVehicleMenuItem("Hoverboard",de.p.HOVERBOARD),this.addVehicleMenuItem("SmallDigger",de.p.SMALL_DIGGER),this.addVehicleMenuItem("SmallTruck",de.p.SMALL_TRUCK),this.addVehicleMenuItem("SmallCat",de.p.SMALL_CAT),this.addVehicleMenuItem("SmallMLP",de.p.SMALL_MLP),this.addVehicleMenuItem("SmallHeli",de.p.SMALL_HELI)}}class Ge extends xe{constructor(e,t){super(e,5,t),this.addVehicleMenuItem("BullDozer",de.p.BULLDOZER),this.addVehicleMenuItem("WalkerDigger",de.p.WALKER_DIGGER),this.addVehicleMenuItem("LargeMLP",de.p.LARGE_MLP),this.addVehicleMenuItem("LargeDigger",de.p.LARGE_DIGGER),this.addVehicleMenuItem("LargeCat",de.p.LARGE_CAT)}}class ke extends o.s{constructor(e){super(e),this.subPanels=[],this.numRequestedRaiders=0,this.numToolstations=0,this.numTeleportPads=0,this.numBarracks=0,this.numRaiders=0,this.relX=this.xOut=624,this.xIn=735,this.relY=this.yOut=this.yIn=9,this.movedIn=!1,this.mainPanel=this.addSubPanel(new Ce(this,4)),this.mainPanel.relX=this.mainPanel.xOut,this.mainPanel.relY=this.mainPanel.yOut,this.mainPanel.movedIn=!1;const t=this.addSubPanel(new Re(this,this.mainPanel)),s=this.addSubPanel(new ve(this,this.mainPanel)),i=this.addSubPanel(new Ge(this,this.mainPanel));this.selectWallPanel=this.addSubPanel(new we(this,this.mainPanel)),this.selectFloorPanel=this.addSubPanel(new Le(this,this.mainPanel)),this.selectRubblePanel=this.addSubPanel(new _e(this,this.mainPanel)),this.selectSitePanel=this.addSubPanel(new Ae(this,this.mainPanel));const n=this.addSubPanel(new Oe(this,this.mainPanel)),a=this.addSubPanel(new ye(this,this.mainPanel)),r=this.addSubPanel(new Ne(this,a));a.trainItem.onClick=()=>a.toggleState((()=>r.toggleState()));const l=this.addSubPanel(new Pe(this,a));a.getToolItem.onClick=()=>a.toggleState((()=>l.toggleState()));const o=this.addSubPanel(new De(this,this.mainPanel)),h=this.addSubPanel(new be(this,this.mainPanel)),c=this.mainPanel.addMenuItem("InterfaceImages","Interface_MenuItem_TeleportMan");c.isDisabled=()=>this.numRaiders>=this.getMaxRaiders()||this.numRequestedRaiders>=re.VD||this.numToolstations<1&&this.numTeleportPads<1,c.updateState(),c.onClick=()=>this.publishEvent(new x(!0)),c.onClickSecondary=()=>{this.numRequestedRaiders>0&&this.publishEvent(new x(!1))};const d=c.addChild(new Se(c));d.registerEventListener(u.Z.REQUESTED_RAIDERS_CHANGED,(e=>{d.setLabel(e.numRequested)})),this.registerEventListener(u.Z.REQUESTED_RAIDERS_CHANGED,(e=>{this.numRequestedRaiders=e.numRequested,c.updateState()}));const m=this.mainPanel.addMenuItem("InterfaceImages","Interface_MenuItem_BuildBuilding");m.isDisabled=()=>!1,m.onClick=()=>this.mainPanel.toggleState((()=>t.toggleState()));const p=this.mainPanel.addMenuItem("InterfaceImages","Interface_MenuItem_BuildSmallVehicle");p.isDisabled=()=>!1,p.onClick=()=>this.mainPanel.toggleState((()=>s.toggleState()));const I=this.mainPanel.addMenuItem("InterfaceImages","Interface_MenuItem_BuildLargeVehicle");I.isDisabled=()=>!1,I.onClick=()=>this.mainPanel.toggleState((()=>i.toggleState())),this.registerEventListener(u.Z.SELECTION_CHANGED,(e=>{e.selectPanelType===y.Yg.RAIDER?this.selectSubPanel(a):e.selectPanelType===y.Yg.VEHICLE?this.selectSubPanel(e.allVehicleEmpty?o:h):e.selectPanelType===y.Yg.BUILDING?this.selectSubPanel(n):e.selectPanelType===y.Yg.SURFACE?this.onSelectedSurfaceChange(e.isFloor,e.isSite,e.hasRubble):this.selectSubPanel(this.mainPanel)})),this.registerEventListener(u.Z.BUILDINGS_CHANGED,(e=>{this.numToolstations=y.Ry.countUsable(e,de.p.TOOLSTATION),this.numTeleportPads=y.Ry.countUsable(e,de.p.TELEPORT_PAD),this.numBarracks=y.Ry.countUsable(e,de.p.BARRACKS),c.updateState()})),this.registerEventListener(u.Z.RAIDERS_CHANGED,(e=>{this.numRaiders=e.numRaiders,c.updateState()}))}getMaxRaiders(){return re.d+this.numBarracks*re.oq}reset(){super.reset(),this.relX=this.xOut,this.relY=this.yOut,this.movedIn=!1,this.updatePosition(),this.mainPanel.relX=this.mainPanel.xOut,this.mainPanel.relY=this.mainPanel.yOut,this.mainPanel.movedIn=!1,this.mainPanel.updatePosition(),this.numRequestedRaiders=0,this.numToolstations=0,this.numTeleportPads=0,this.numBarracks=0,this.numRaiders=0}addSubPanel(e){return this.addChild(e),this.subPanels.push(e),e}selectSubPanel(e){this.subPanels.forEach((t=>t!==e&&t.setMovedIn(!0))),e.setMovedIn(!1)}onSelectedSurfaceChange(e,t,s){e?s?this.selectSubPanel(this.selectRubblePanel):t?this.selectSubPanel(this.selectSitePanel):this.selectSubPanel(this.selectFloorPanel):this.selectSubPanel(this.selectWallPanel)}}var Ue,Fe=s(861);class He{constructor(e,t,s){this.textImage=e.createTextImage(t.text,s),this.infoImage=p.x.getImageOrNull(t.imageFilename),this.sfxSample=Fe.d[t.sfxName]}}class Ve extends o.s{constructor(e,t,s){super(e,t),this.imgAir=null,this.currentMessage=null,this.messageTimeout=null,this.airLevel=1,this.relX=this.xOut=this.xIn=42,this.relY=this.yOut=this.yIn=409,this.imgAir=p.x.getImage("Interface/Airmeter/msgpanel_air_juice.bmp");const i=p.x.getDefaultFont(),n=new He(i,s.textCrystalFound,this.img.width);this.registerEventListener(u.Z.LOCATION_CRYSTAL_FOUND,(()=>this.setMessage(n))),this.msgSpaceToContinue=new He(i,s.textSpaceToContinue,this.img.width);const a=new He(i,s.textCavernDiscovered,this.img.width);this.registerEventListener(u.Z.CAVERN_DISCOVERED,(()=>this.setMessage(a)));const r=new He(i,s.textOreFound,this.img.width);this.registerEventListener(u.Z.ORE_FOUND,(()=>this.setMessage(r))),this.msgAirSupplyLow=new He(i,s.textAirSupplyLow,this.img.width),this.msgAirSupplyRunningOut=new He(i,s.textAirSupplyRunningOut,this.img.width),this.msgGameCompleted=new He(i,s.textGameCompleted,this.img.width),this.msgManTrained=new He(i,s.textManTrained,this.img.width),this.registerEventListener(u.Z.RAIDERS_CHANGED,(e=>e.training&&this.setMessage(this.msgManTrained))),this.msgUnitUpgraded=new He(i,s.textUnitUpgraded,this.img.width),this.registerEventListener(u.Z.AIR_LEVEL_CHANGED,(()=>this.notifyRedraw())),this.registerEventListener(u.Z.AIR_LEVEL_CHANGED,(e=>{this.airLevel=e.airLevel}))}reset(){super.reset(),this.airLevel=1}setMessage(e,t=3e3){if(this.messageTimeout=(0,ae.L4)(this.messageTimeout),this.currentMessage=e,this.notifyRedraw(),e.sfxSample&&this.publishEvent(new y.s4(e.sfxSample)),t){const e=this;this.messageTimeout=setTimeout((()=>{e.currentMessage=null,e.notifyRedraw()}),t)}}unsetMessage(e){this.currentMessage===e&&(this.currentMessage=null,this.notifyRedraw())}onRedraw(e){var t,s;if(super.onRedraw(e),this.airLevel>0){const t=Math.round(236*Math.min(1,this.airLevel));e.drawImage(this.imgAir,this.x+85,this.y+6,t,8)}const i=null===(t=this.currentMessage)||void 0===t?void 0:t.textImage,n=null===(s=this.currentMessage)||void 0===s?void 0:s.infoImage;if(i){const t=this.x+(this.img.width-i.width-(n?n.width:0))/2;e.drawImage(i,t,this.y+26)}if(n){const t=this.x+this.img.width-n.width;e.drawImage(n,t,this.y+16)}}}class Ze{constructor(e){[this.text,this.imageFilename,this.sfxName]=e}}class Ye extends i.l{constructor(e){super(),this.textCrystalFound=null,this.textSpaceToContinue=null,this.textCavernDiscovered=null,this.textOreFound=null,this.textAirSupplyLow=null,this.textAirSupplyRunningOut=null,this.textGameCompleted=null,this.textManTrained=null,this.textUnitUpgraded=null,i.l.setFromCfg(this,e)}parseValue(e,t){return new Ze(t)}}class qe extends i.l{constructor(e){super(),this.aiPriorityTrain=null,this.aiPriorityGetIn=null,this.aiPriorityCrystal=null,this.aiPriorityOre=null,this.aiPriorityRepair=null,this.aiPriorityClearing=null,this.aiPriorityDestruction=null,this.aiPriorityConstruction=null,this.aiPriorityReinforce=null,this.aiPriorityRecharge=null,i.l.setFromCfg(this,e)}parseValue(e,t){return{buttonType:t[0],normalFile:t[1],highlightFile:t[1],pressedFile:t[2],disabledFile:t[3]}}}!function(e){e[e.aiPriorityTrain=0]="aiPriorityTrain",e[e.aiPriorityGetIn=1]="aiPriorityGetIn",e[e.aiPriorityCrystal=2]="aiPriorityCrystal",e[e.aiPriorityOre=3]="aiPriorityOre",e[e.aiPriorityRepair=4]="aiPriorityRepair",e[e.aiPriorityClearing=5]="aiPriorityClearing",e[e.aiPriorityDestruction=6]="aiPriorityDestruction",e[e.aiPriorityConstruction=7]="aiPriorityConstruction",e[e.aiPriorityReinforce=8]="aiPriorityReinforce",e[e.aiPriorityRecharge=9]="aiPriorityRecharge"}(Ue||(Ue={}));class ze{constructor(e){this.key=e.key,this.enabled=e.enabled}}class We{constructor(){this.levelDefault=[],this.current=[]}setList(e){this.levelDefault=e,this.reset()}toggle(e){this.current[e].enabled=!this.current[e].enabled}upOne(e){const t=this.current[e];this.current[e]=this.current[e+1],this.current[e+1]=t}reset(){this.current=this.levelDefault.map((e=>new ze(e)))}pushToTop(e){const t=this.current[e];for(let t=e;t>0;t--)this.current[t]=this.current[t-1];this.current[0]=t}}class Ke extends o.s{constructor(e,t,s,i,n){super(e,t),this.prioPositions=[],this.prioByName=new Map,this.priorityList=new We,s.panelButtonPriorityListDisable.forEach(((e,t)=>{this.addChild(new l.z(this,e)).onClick=()=>{this.priorityList.toggle(t),this.updateList()}})),s.panelButtonPriorityListUpOne.forEach(((e,t)=>{this.addChild(new l.z(this,e)).onClick=()=>{this.priorityList.upOne(t),this.updateList()}})),this.addChild(new l.z(this,s.panelButtonPriorityListReset)).onClick=()=>{this.priorityList.reset(),this.updateList()},this.prioPositions=i,this.prioByName.set(Ue.aiPriorityTrain,this.addChild(new l.z(this,n.aiPriorityTrain))),this.prioByName.set(Ue.aiPriorityGetIn,this.addChild(new l.z(this,n.aiPriorityGetIn))),this.prioByName.set(Ue.aiPriorityCrystal,this.addChild(new l.z(this,n.aiPriorityCrystal))),this.prioByName.set(Ue.aiPriorityOre,this.addChild(new l.z(this,n.aiPriorityOre))),this.prioByName.set(Ue.aiPriorityRepair,this.addChild(new l.z(this,n.aiPriorityRepair))),this.prioByName.set(Ue.aiPriorityClearing,this.addChild(new l.z(this,n.aiPriorityClearing))),this.prioByName.set(Ue.aiPriorityDestruction,this.addChild(new l.z(this,n.aiPriorityDestruction))),this.prioByName.set(Ue.aiPriorityConstruction,this.addChild(new l.z(this,n.aiPriorityConstruction))),this.prioByName.set(Ue.aiPriorityReinforce,this.addChild(new l.z(this,n.aiPriorityReinforce))),this.prioByName.set(Ue.aiPriorityRecharge,this.addChild(new l.z(this,n.aiPriorityRecharge))),this.registerEventListener(u.Z.SETUP_PRIORITY_LIST,(e=>{this.priorityList.setList(e.priorityList),this.updateList()}))}reset(){super.reset(),this.priorityList.reset()}updateList(){this.prioByName.forEach((e=>e.hidden=!0));let e=0,t=!1;this.priorityList.current.forEach((s=>{const i=this.prioByName.get(s.key);if(i){t=t||i.hidden||i.disabled!==!s.enabled,i.hidden=e>8,i.disabled=!s.enabled,i.relX=this.prioPositions[e].x,i.relY=this.prioPositions[e].y,i.updatePosition();const n=e;i.onClick=()=>{this.priorityList.pushToTop(n),this.updateList()},e++}})),t&&(this.notifyRedraw(),this.publishEvent(new U(this.priorityList.current)))}}class Xe{constructor(e){[this.x,this.y]=e}}var je=s(800);class Je extends l.z{constructor(e,t){super(e,t),this.toggleState=!1}reset(){super.reset(),this.toggleState=!1}checkHover(e,t){if(this.isInactive())return!1;const s=this.isInRect(e,t);let i=this.hover!==s;return this.hover=s,this.hover||this.toggleState||(this.pressedByButton=null),this.children.forEach((s=>i=s.checkHover(e,t)||i)),i&&this.notifyRedraw(),i}checkClick(e,t,s){if(this.isInactive())return!1;const i=this.pressedByButton;this.isInRect(e,t)||this.toggleState?null===this.pressedByButton&&(s===je.T.MAIN&&this.onClick||s===je.T.SECONDARY&&this.onClickSecondary)&&(this.pressedByButton=s):this.pressedByButton=null;let n=this.pressedByButton!==i;return this.children.forEach((i=>n=i.checkClick(e,t,s)||n)),n&&this.notifyRedraw(),n}checkRelease(e,t,s){if(this.isInactive())return!1;const i=this.isInRect(e,t);let n=i&&null!==this.pressedByButton;return n&&(this.clicked(e,t,s),this.pressedByButton=n&&this.toggleState?s:null,this.hover=i),this.children.forEach((i=>n=i.checkRelease(e,t,s)||n)),n&&this.notifyRedraw(),n}clicked(e,t,s){this.toggleState=!this.toggleState,super.clicked(e,t,s)}release(){return!1}}class Qe extends o.s{constructor(e,t,s){super(e,t),this.btnCallToArms=this.addChild(new Je(this,s.panelButtonTopPanelCallToArms)),this.btnOptions=this.addChild(new l.z(this,s.panelButtonTopPanelOptions)),this.btnPriorities=this.addChild(new Je(this,s.panelButtonTopPanelPriorities))}}class $e extends ie.x{constructor(e){super(e);const t=new O(p.x.cfg("Panels640x480")),s=new T(p.x.cfg("Buttons640x480"));this.panelEncyclopedia=this.addPanel(new o.s(this.rootElement,t.panelEncyclopedia)),this.panelInformation=this.addPanel(new ce(this.rootElement,t.panelInformation)),this.panelInfoDock=this.addPanel(new oe(this.rootElement,t.panelInfoDock,s.panelInfoDock,new ue(p.x.cfg("InfoMessages")),this.panelInformation)),this.panelCameraControl=this.addPanel(new se(this.rootElement,t.panelCameraControl,s.panelCameraControl,p.x.cfg("PanelRotationControl")));const i=Object.values(p.x.cfg("PrioritiesImagePositions")).map((e=>new Xe(e))),n=new qe(p.x.cfg("PriorityImages"));this.panelPriorityList=this.addPanel(new Ke(this.rootElement,t.panelPriorityList,s.panelPriorityList,i,n)),this.panelTopPanel=this.addPanel(new Qe(this.rootElement,t.panelTopPanel,s.panelTopPanel)),this.panelMain=this.addPanel(new ke(this.rootElement)),this.panelCrystalSideBar=this.addPanel(new C(this.rootElement,t.panelCrystalSideBar,s.panelCrystalSideBar)),this.panelMessagesSide=this.addPanel(new o.s(this.rootElement,t.panelMessagesSide)),this.panelMessages=this.addPanel(new Ve(this.rootElement,t.panelMessages,new Ye(p.x.cfg("TextMessagesWithImages")))),this.panelRadar=this.addPanel(new d(this.rootElement,t.panelRadar,t.panelRadarFill,t.panelRadarOverlay,s.panelRadar)),this.panelTopPanel.btnOptions.onClick=()=>{this.sendResponse({type:L.n.SHOW_OPTIONS})},this.panelTopPanel.btnPriorities.onClick=()=>{this.panelTopPanel.btnPriorities.toggleState?this.panelMain.setMovedIn(!0,(()=>this.panelPriorityList.setMovedIn(!1))):this.panelPriorityList.setMovedIn(!0,(()=>this.panelMain.setMovedIn(!1)))}}onProcessMessage(e){return e.type===L.n.SPACE_TO_CONINUE&&(e.messageState?this.panelMessages.setMessage(this.panelMessages.msgSpaceToContinue,0):this.panelMessages.unsetMessage(this.panelMessages.msgSpaceToContinue),!0)}}let et=null;const tt=self;tt.addEventListener("message",(e=>{const t=e.data;t.type===L.n.INIT?(p.x.resourceByName=t.resourceByName,p.x.configuration=t.cfg,p.x.stats=t.stats,et=new $e(tt)):et.processMessage(t)}))},848:(e,t,s)=>{s.d(t,{d:()=>i,VD:()=>n,oq:()=>a,CM:()=>r,Du:()=>l,DG:()=>o,OK:()=>h});const i=12,n=9,a=10,r=3,l=(Math.round(1e3/30),640),o=480,h=30}},i={};function n(e){var t=i[e];if(void 0!==t)return t.exports;var a=i[e]={exports:{}};return s[e](a,a.exports,n),a.exports}n.m=s,n.x=()=>{var e=n.O(void 0,[495,710],(()=>n(101)));return n.O(e)},e=[],n.O=(t,s,i,a)=>{if(!s){var r=1/0;for(h=0;h<e.length;h++){for(var[s,i,a]=e[h],l=!0,o=0;o<s.length;o++)(!1&a||r>=a)&&Object.keys(n.O).every((e=>n.O[e](s[o])))?s.splice(o--,1):(l=!1,a<r&&(r=a));l&&(e.splice(h--,1),t=i())}return t}a=a||0;for(var h=e.length;h>0&&e[h-1][2]>a;h--)e[h]=e[h-1];e[h]=[s,i,a]},n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,s)=>(n.f[s](e,t),t)),[])),n.u=e=>e+".index.js",n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var s=t.getElementsByTagName("script");s.length&&(e=s[s.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{var e={101:1};n.f.i=(t,s)=>{e[t]||importScripts(n.p+n.u(t))};var t=self.webpackChunkrock_raiders_web=self.webpackChunkrock_raiders_web||[],s=t.push.bind(t);t.push=t=>{var[i,a,r]=t;for(var l in a)n.o(a,l)&&(n.m[l]=a[l]);for(r&&r(n);i.length;)e[i.pop()]=1;s(t)}})(),t=n.x,n.x=()=>Promise.all([n.e(495),n.e(710)]).then(t),n.x()})();
//# sourceMappingURL=101.index.js.map